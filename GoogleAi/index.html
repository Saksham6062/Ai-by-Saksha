<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Google AI Models Explorer</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .loader {
      border: 4px solid #f3f3f3;
      border-radius: 50%;
      border-top: 4px solid #3498db;
      width: 40px; height: 40px;
      animation: spin 1s linear infinite;
      margin: auto;
    }
    @keyframes spin {0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
    .mode-panel {display: none;}
    .mode-panel.active {display: block;}
  </style>
</head>
<body class="bg-gray-100 text-gray-900 font-sans min-h-screen flex flex-col items-center p-4 md:p-6">

<div class="w-full max-w-3xl bg-white rounded-lg shadow-md p-6">
  <h1 class="text-3xl font-bold mb-6 text-center text-gray-800">Google AI Models Explorer</h1>

  <!-- Mode Switch -->
  <div class="flex justify-center gap-4 mb-6">
    <button class="modeBtn px-4 py-2 rounded bg-blue-600 text-white" data-mode="canva">Canva</button>
    <button class="modeBtn px-4 py-2 rounded bg-gray-200 hover:bg-gray-300" data-mode="deepthink">DeepThink</button>
    <button class="modeBtn px-4 py-2 rounded bg-gray-200 hover:bg-gray-300" data-mode="deepresearch">DeepResearch</button>
  </div>

  <!-- API Key -->
  <div class="mb-4">
    <label for="apiKey" class="block font-medium mb-1 text-gray-700">Enter Your Google AI API Key:</label>
    <input id="apiKey" type="password" placeholder="Enter your key here" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
  </div>

  <!-- Shared Model Selection -->
  <div class="mb-4">
    <label for="modelSelect" class="block font-medium mb-1 text-gray-700">Select AI Model:</label>
    <select id="modelSelect" class="w-full p-2 border border-gray-300 rounded bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
      <optgroup label="Gemini 2.5">
        <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
        <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
        <option value="gemini-2.5-flash-lite">Gemini 2.5 Flash-Lite</option>
      </optgroup>
      <optgroup label="Gemini 2.0">
        <option value="gemini-2.0-pro">Gemini 2.0 Pro</option>
        <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
        <option value="gemini-2.0-flash-lite">Gemini 2.0 Flash-Lite</option>
      </optgroup>
      <optgroup label="Gemma">
        <option value="gemma-open-weight">Gemma (Open-weight)</option>
        <option value="gemma-3n">Gemma 3n</option>
        <option value="gemma-3">Gemma 3 (27B)</option>
        <option value="gemma-2">Gemma 2 (27B)</option>
        <option value="codegemma">CodeGemma (7B)</option>
      </optgroup>
      <optgroup label="Imagen">
        <option value="imagen-4">Imagen 4</option>
        <option value="imagen-gen">Imagen Generate</option>
        <option value="imagen-fast">Imagen Fast</option>
        <option value="imagen-edit">Imagen Edit</option>
        <option value="imagen-caption">Imagen Caption</option>
      </optgroup>
      <optgroup label="Other">
        <option value="nano-banana">Nano Banana</option>
        <option value="alphafold">AlphaFold</option>
        <option value="palm">PaLM</option>
        <option value="palm2">PaLM 2</option>
      </optgroup>
    </select>
  </div>

  <!-- Canva Panel (doc/presentation/web gen) -->
  <div id="canva" class="mode-panel active">
    <div class="mb-4">
      <label for="userPrompt" class="block font-medium mb-1 text-gray-700">Describe document / presentation / website you want:</label>
      <textarea id="userPrompt" rows="4" placeholder="E.g., Generate a 3-slide presentation about climate change..." class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"></textarea>
    </div>
    <button id="submitBtn" onclick="sendRequest()" class="bg-blue-600 text-white w-full px-4 py-2 rounded hover:bg-blue-700">Generate</button>
  </div>

  <!-- DeepThink Panel -->
  <div id="deepthink" class="mode-panel">
    <div class="mb-4">
      <label for="thinkPrompt" class="block font-medium mb-1 text-gray-700">Ask DeepThink:</label>
      <textarea id="thinkPrompt" rows="3" placeholder="Enter your question for reasoning..." class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"></textarea>
    </div>
    <button onclick="sendRequest('thinkPrompt')" class="bg-blue-600 text-white w-full px-4 py-2 rounded hover:bg-blue-700">Ask</button>
  </div>

  <!-- DeepResearch Panel -->
  <div id="deepresearch" class="mode-panel">
    <div class="mb-4">
      <label for="researchPrompt" class="block font-medium mb-1 text-gray-700">Enter Research Query:</label>
      <textarea id="researchPrompt" rows="3" placeholder="Type your research query..." class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"></textarea>
    </div>
    <button onclick="sendRequest('researchPrompt')" class="bg-blue-600 text-white w-full px-4 py-2 rounded hover:bg-blue-700">Research</button>
  </div>

  <!-- Response -->
  <div class="mt-6">
    <label class="block font-medium mb-1 text-gray-700">AI Response:</label>
    <div id="response" class="p-4 border border-gray-200 rounded bg-gray-50 min-h-[150px] whitespace-pre-wrap flex items-center justify-center text-gray-500">
      Your response will appear here.
    </div>

    <!-- Export Buttons (for Canva) -->
    <div id="exportBtns" class="hidden mt-4 flex gap-3">
      <button onclick="exportFile('docx')" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Download DOCX</button>
      <button onclick="exportFile('pptx')" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700">Download PPTX</button>
      <button onclick="exportFile('html')" class="bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700">Download HTML</button>
    </div>
  </div>
</div>

<footer class="text-center text-gray-500 mt-6 text-sm">
  <p>Powered by Google AI</p>
</footer>

<script>
  // Mode switch logic
  document.querySelectorAll('.modeBtn').forEach(btn=>{
    btn.addEventListener('click',()=>{
      document.querySelectorAll('.modeBtn').forEach(b=>b.classList.remove('bg-blue-600','text-white'));
      btn.classList.add('bg-blue-600','text-white');
      document.querySelectorAll('.mode-panel').forEach(p=>p.classList.remove('active'));
      document.getElementById(btn.dataset.mode).classList.add('active');
    });
  });
async function sendRequest(promptId="userPrompt") {
  const apiKey = document.getElementById('apiKey').value.trim();
  const modelValue = document.getElementById('modelSelect').value;
  const prompt = document.getElementById(promptId).value.trim();
  const responseBox = document.getElementById('response');
  const exportBtns = document.getElementById('exportBtns');

  if (!apiKey || !prompt) {
    responseBox.textContent = 'Error: Please enter your API key and a prompt.';
    responseBox.classList.add('text-red-500');
    return;
  }
  responseBox.classList.remove('text-red-500');
  responseBox.innerHTML = '<div class="loader"></div>';
  exportBtns.classList.add("hidden");

  const textModels = [
    "gemini-2.5-pro","gemini-2.5-flash","gemini-2.5-flash-lite",
    "gemini-2.0-pro","gemini-2.0-flash","gemini-2.0-flash-lite",
    "gemma-open-weight","gemma-3n","gemma-3","gemma-2","codegemma",
    "alphafold","palm","palm2"
  ];

  const imageModels = [
    "imagen-4","imagen-gen","imagen-fast","imagen-edit","imagen-caption","nano-banana"
  ];

  try {
    let apiUrl = "";
    let payload = {};

    if (textModels.includes(modelValue)) {
      apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${modelValue}:generateContent?key=${apiKey}`;
      payload = { contents: [{ parts: [{ text: prompt }] }] };
    } else if (imageModels.includes(modelValue)) {
      apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${modelValue}:predict?key=${apiKey}`;
      payload = { instances: [{ prompt: prompt }], parameters: { sampleCount: 1 } };
    }

    const res = await fetch(apiUrl, {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify(payload)
    });
    const data = await res.json();

    if (textModels.includes(modelValue)) {
      const text = data.candidates?.[0]?.content?.parts?.[0]?.text;
      responseBox.textContent = text || "No response.";
      if(promptId === "userPrompt"){ // Only show export for Canva
        exportBtns.classList.remove("hidden");
      }
    } else if (imageModels.includes(modelValue)) {
      // Use URL instead of base64
      const imageUrl = data.predictions?.[0]?.url;
      if (imageUrl) {
        responseBox.innerHTML = `<img src="${imageUrl}" class="rounded max-w-full h-auto mx-auto"/>`;
      } else {
        responseBox.textContent = "No image response.";
      }
    }

  } catch(err) {
    responseBox.textContent = "Error: " + err.message;
    responseBox.classList.add('text-red-500');
  }
}
 
</script>
</body>
</html>
